/*
一次性活动
16 16 * * * jd_starbucks_share.js
*/
const $ = new Env('星巴克-分享20雷子');
var _0xodp='jsjiami.com.v6',_0xodp_=['‮_0xodp'],_0x1fa9=[_0xodp,'ZmFsc2U=','bG9n','Z2V0ZGF0YQ==','Q29va2llSkQ=','Q29va2llSkQy','Q29va2llc0pE','bWFw','Y29va2ll','ZmlsdGVy','44CQ5o+Q56S644CR6K+35YWI6I635Y+W5Lqs5Lic6LSm5Y+35LiAY29va2llCuebtOaOpeS9v+eUqE5vYnlEYeeahOS6rOS4nOetvuWIsOiOt+WPlg==','aHR0cHM6Ly9iZWFuLm0uamQuY29tL2JlYW4vc2lnbkluZGV4LmFjdGlvbg==','WUxvR1Q=','R1djZ3k=','bXNn','bmFtZQ==','ZWRwQnY=','V0lNR2g=','ckZad3g=','bGVuZ3Ro','VXNlck5hbWU=','RmhuTWE=','bWF0Y2g=','aW5kZXg=','dHdXU3Y=','aXNMb2dpbg==','bmlja05hbWU=','UkdGVEI=','CioqKioqKuW8gOWni+OAkOS6rOS4nOi0puWPtw==','KioqKioqKioqCg==','T0lGc1I=','WXNEaFk=','ZW9qcUE=','44CQ5o+Q56S644CRY29va2ll5bey5aSx5pWI','5Lqs5Lic6LSm5Y+3','Cuivt+mHjeaWsOeZu+W9leiOt+WPlgpodHRwczovL2JlYW4ubS5qZC5jb20vYmVhbi9zaWduSW5kZXguYWN0aW9u','LCDlpLHotKUhIOWOn+WboDog','d2FpdA==','Y2F0Y2g=','ZmluYWxseQ==','ZG9uZQ==','U3R2UnQ=','V0l5QXE=','RUlrVEk=','WmhHU1o=','bHNvWUE=','aHR0cHM6Ly9uZXdzaGFyZS5tLmpkLmNvbS9zaGFyZS9kb1ByaXplLmh0bWw/YWN0aXZpdHlJZD03MDk0MSZ0b2tlbj0yNzVhNzE3MzdlNmUyMGNlYTVmMjNjNWY0NjQ0MTNiNiZ0eXBlPTE=','YXBwbGljYXRpb24vanNvbg==','Z3ppcCwgZGVmbGF0ZSwgYnI=','emgtQ04semgtSGFucztxPTAuOQ==','WE1MSHR0cFJlcXVlc3Q=','amRhcHA7aVBob25lOzExLjIuMjs7O00vNS4wO2FwcEJ1aWxkLzE2ODI1NjtqZFN1cHBvcnREYXJrTW9kZS8wO2VmLzE7ZXAvJTdCJTIyY2lwaGVydHlwZSUyMiUzQTUlMkMlMjJjaXBoZXIlMjIlM0ElN0IlMjJ1ZCUyMiUzQSUyMll6VnZZdFkwQ1dZblpKR21ZdEN6RVdVeVpKT25DSlluRVdZeUN3VndDV1UxWndIdER6cXpESyUzRCUzRCUyMiUyQyUyMnN2JTIyJTNBJTIyQ0pVa0RzNG4lMjIlMkMlMjJpYWQlMjIlM0ElMjIlMjIlN0QlMkMlMjJ0cyUyMiUzQTE2NjEzMTc1NDQlMkMlMjJoZGlkJTIyJTNBJTIySk05RjF5d1VQd2Zsdk1JcFlQb2swdHQ1azlrVzRBckpFVTNsZkxoeEJxdyUzRCUyMiUyQyUyMnZlcnNpb24lMjIlM0ElMjIxLjAuMyUyMiUyQyUyMmFwcG5hbWUlMjIlM0ElMjJjb20uMzYwYnV5LmpkbW9iaWxlJTIyJTJDJTIycmlkeCUyMiUzQS0xJTdEO01vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgMTVfNl8xIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE1RTE0ODtzdXBwb3J0SkRTSFdLLzE7','aHR0cHM6Ly9uZXdzaGFyZS5tLmpkLmNvbS9zaGFyZS9yZXdhcmQuaHRtbD9zaGFyZUFjdGl2aXR5SWQ9NzA5NDEmc2hhcmVUb2tlbj0yNzVhNzE3MzdlNmUyMGNlYTVmMjNjNWY0NjQ0MTNiNiZzaWQ9OWJhYzk5YjU4NWQ2NDg4YTc0Mzg3NTc5NjczYTZmN3cmdW5fYXJlYT0yMl8xOTMwXzQ5MzI0XzQ5NDEx','WnhWbEM=','RmxTS08=','aUZiSEY=','U1ZnSFQ=','anBTQ3U=','aWVoR1M=','TnBYQ20=','VGljanc=','VWhvTWk=','aGhmZEM=','TXRSRUM=','ZmpQbVc=','T21NQVc=','RWd4SlY=','Z2V0','aVFSelE=','WmFZVW0=','a2tDckE=','b0pnSXc=','c3RyaW5naWZ5','QmZxcUw=','enBuUnI=','bmV2bkE=','VlplTVU=','bG9nRXJy','5Lqs5Lic5pyN5Yqh5Zmo6L+U5Zue56m65pWw5o2u','U2tDcUk=','cmV0Y29kZQ==','YmFzZQ==','cm52TU0=','Y2FVQVE=','dGtzQ00=','Q1hVSWM=','R21LakE=','VGx3V3M=','T0VXbk8=','VWF0WnQ=','THZycEo=','bm5JQlM=','YXBwbGljYXRpb24vanNvbix0ZXh0L3BsYWluLCAqLyo=','YXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk','emgtY24=','a2VlcC1hbGl2ZQ==','aHR0cHM6Ly93cXMuamQuY29tL215L2ppbmdkb3UvbXkuc2h0bWw/c2NlbmV2YWw9Mg==','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNF8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xNC4wLjIgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA0LjE=','SUNNUnQ=','YmNLUkQ=','cUZ5anA=','SXhDc00=','bkFEd2U=','TW9FTXE=','a3hxeEQ=','RG9yUGQ=','b2ZWSFo=','bWlYYWw=','TVlkaFQ=','V1lJaW4=','bURScU4=','d2RyV1U=','dUR4amY=','YlVMTGY=','blJzR2E=','dWV4cVI=','SEtRbWI=','Z3hsZGE=','cGJ6VEw=','aHR0cHM6Ly93cS5qZC5jb20vdXNlci9pbmZvL1F1ZXJ5SkRVc2VySW5mbz9zY2VuZXZhbD0y','QWdpV3c=','bFVGTEw=','aUZYaFE=','V0JmcHQ=','REZxT0U=','YmZUYkU=','cXV0bFc=','cG9zdA==','a2trQno=','ZGpYV3U=','UklEcUw=','VEVPUHQ=','RWpOb0Y=','dlZHeGY=','QkRTR2Q=','ekl6RWs=','IEFQSeivt+axguWksei0pe+8jOivt+ajgOafpee9kei3r+mHjeivlQ==','U3J2Qlk=','ZElIS1U=','cGFyc2U=','SGpHdXM=','VUxvaXk=','TWdkV0E=','bmlja25hbWU=','dlZhaXM=','T1ZVRXI=','bHFHd2Q=','WG1iZG0=','VUpJakw=','Y0lEWGM=','aFltbXI=','ZEN6a1Q=','Wm1HbE8=','aXNOb2Rl','Li9zZW5kTm90aWZ5','Li9qZENvb2tpZS5qcw==','a2V5cw==','Zm9yRWFjaA==','cHVzaA==','ZW52','SkRfREVCVUc=','RjBOMlsjiNOaRmiCL.gHuKchGom.v6=='];if(function(_0x476b0f,_0x3c4592,_0x28c63f){function _0xd08b2d(_0x11ddc1,_0x456d73,_0x526d3f,_0x5aa2e8,_0x1e24db,_0x35fa47){_0x456d73=_0x456d73>>0x8,_0x1e24db='po';var _0x4d11cb='shift',_0x1e5f00='push',_0x35fa47='‮';if(_0x456d73<_0x11ddc1){while(--_0x11ddc1){_0x5aa2e8=_0x476b0f[_0x4d11cb]();if(_0x456d73===_0x11ddc1&&_0x35fa47==='‮'&&_0x35fa47['length']===0x1){_0x456d73=_0x5aa2e8,_0x526d3f=_0x476b0f[_0x1e24db+'p']();}else if(_0x456d73&&_0x526d3f['replace'](/[RBOMlNORCLgHuKhG=]/g,'')===_0x456d73){_0x476b0f[_0x1e5f00](_0x5aa2e8);}}_0x476b0f[_0x1e5f00](_0x476b0f[_0x4d11cb]());}return 0xfeed1;};return _0xd08b2d(++_0x3c4592,_0x28c63f)>>_0x3c4592^_0x28c63f;}(_0x1fa9,0x98,0x9800),_0x1fa9){_0xodp_=_0x1fa9['length']^0x98;};function _0x16aa(_0x61d6b8,_0x5b2e3b){_0x61d6b8=~~'0x'['concat'](_0x61d6b8['slice'](0x1));var _0x243147=_0x1fa9[_0x61d6b8];if(_0x16aa['cetAcn']===undefined&&'‮'['length']===0x1){(function(){var _0xe4f1f1=function(){var _0x57e2ed;try{_0x57e2ed=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5c84cf){_0x57e2ed=window;}return _0x57e2ed;};var _0x2e3350=_0xe4f1f1();var _0x38520c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2e3350['atob']||(_0x2e3350['atob']=function(_0x46e34e){var _0x5cff83=String(_0x46e34e)['replace'](/=+$/,'');for(var _0x4df412=0x0,_0x3aa99f,_0x3c73b1,_0x57b4cd=0x0,_0x48c45a='';_0x3c73b1=_0x5cff83['charAt'](_0x57b4cd++);~_0x3c73b1&&(_0x3aa99f=_0x4df412%0x4?_0x3aa99f*0x40+_0x3c73b1:_0x3c73b1,_0x4df412++%0x4)?_0x48c45a+=String['fromCharCode'](0xff&_0x3aa99f>>(-0x2*_0x4df412&0x6)):0x0){_0x3c73b1=_0x38520c['indexOf'](_0x3c73b1);}return _0x48c45a;});}());_0x16aa['TVpbdO']=function(_0x207591){var _0x5edad5=atob(_0x207591);var _0xb695a9=[];for(var _0x431a82=0x0,_0x5abec5=_0x5edad5['length'];_0x431a82<_0x5abec5;_0x431a82++){_0xb695a9+='%'+('00'+_0x5edad5['charCodeAt'](_0x431a82)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xb695a9);};_0x16aa['BKUMJc']={};_0x16aa['cetAcn']=!![];}var _0x4ee3a1=_0x16aa['BKUMJc'][_0x61d6b8];if(_0x4ee3a1===undefined){_0x243147=_0x16aa['TVpbdO'](_0x243147);_0x16aa['BKUMJc'][_0x61d6b8]=_0x243147;}else{_0x243147=_0x4ee3a1;}return _0x243147;};const notify=$[_0x16aa('‫0')]()?require(_0x16aa('‫1')):'';const jdCookieNode=$[_0x16aa('‫0')]()?require(_0x16aa('‮2')):'';let cookiesArr=[],cookie='';if($[_0x16aa('‫0')]()){Object[_0x16aa('‫3')](jdCookieNode)[_0x16aa('‮4')](_0x157ed0=>{cookiesArr[_0x16aa('‮5')](jdCookieNode[_0x157ed0]);});if(process[_0x16aa('‮6')][_0x16aa('‮7')]&&process[_0x16aa('‮6')][_0x16aa('‮7')]===_0x16aa('‮8'))console[_0x16aa('‮9')]=()=>{};}else{cookiesArr=[$[_0x16aa('‮a')](_0x16aa('‫b')),$[_0x16aa('‮a')](_0x16aa('‫c')),...jsonParse($[_0x16aa('‮a')](_0x16aa('‮d'))||'[]')[_0x16aa('‮e')](_0x1562cb=>_0x1562cb[_0x16aa('‮f')])][_0x16aa('‫10')](_0x48f279=>!!_0x48f279);}!(async()=>{var _0x4bdbdd={'edpBv':_0x16aa('‮11'),'WIMGh':_0x16aa('‫12'),'rFZwx':function(_0x30ea86,_0x47eb96){return _0x30ea86<_0x47eb96;},'FhnMa':function(_0x469e49,_0x5cbb4b){return _0x469e49(_0x5cbb4b);},'twWSv':function(_0x1e56e2,_0x5477ce){return _0x1e56e2+_0x5477ce;},'RGFTB':function(_0x2aaa38){return _0x2aaa38();},'OIFsR':function(_0x187488,_0x5cb11f){return _0x187488!==_0x5cb11f;},'YsDhY':_0x16aa('‫13'),'eojqA':_0x16aa('‮14')};if(!cookiesArr[0x0]){$[_0x16aa('‮15')]($[_0x16aa('‮16')],_0x4bdbdd[_0x16aa('‮17')],_0x4bdbdd[_0x16aa('‫18')],{'open-url':_0x4bdbdd[_0x16aa('‫18')]});return;}for(let _0x2473f5=0x0;_0x4bdbdd[_0x16aa('‮19')](_0x2473f5,cookiesArr[_0x16aa('‮1a')]);_0x2473f5++){if(cookiesArr[_0x2473f5]){cookie=cookiesArr[_0x2473f5];$[_0x16aa('‮1b')]=_0x4bdbdd[_0x16aa('‫1c')](decodeURIComponent,cookie[_0x16aa('‮1d')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x16aa('‮1d')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x16aa('‫1e')]=_0x4bdbdd[_0x16aa('‫1f')](_0x2473f5,0x1);$[_0x16aa('‫20')]=!![];$[_0x16aa('‫21')]='';message='';await _0x4bdbdd[_0x16aa('‮22')](TotalBean);console[_0x16aa('‮9')](_0x16aa('‮23')+$[_0x16aa('‫1e')]+'】'+($[_0x16aa('‫21')]||$[_0x16aa('‮1b')])+_0x16aa('‮24'));if(!$[_0x16aa('‫20')]){if(_0x4bdbdd[_0x16aa('‫25')](_0x4bdbdd[_0x16aa('‫26')],_0x4bdbdd[_0x16aa('‫27')])){$[_0x16aa('‮15')]($[_0x16aa('‮16')],_0x16aa('‫28'),_0x16aa('‫29')+$[_0x16aa('‫1e')]+'\x20'+($[_0x16aa('‫21')]||$[_0x16aa('‮1b')])+_0x16aa('‫2a'),{'open-url':_0x4bdbdd[_0x16aa('‫18')]});if($[_0x16aa('‫0')]()){}continue;}else{$[_0x16aa('‮9')]('','❌\x20'+$[_0x16aa('‮16')]+_0x16aa('‫2b')+e+'!','');}}await _0x4bdbdd[_0x16aa('‮22')](main);await $[_0x16aa('‮2c')](0x1388);}}})()[_0x16aa('‮2d')](_0x46d7db=>{$[_0x16aa('‮9')]('','❌\x20'+$[_0x16aa('‮16')]+_0x16aa('‫2b')+_0x46d7db+'!','');})[_0x16aa('‮2e')](()=>{$[_0x16aa('‮2f')]();});async function main(){var _0x61e544={'StvRt':function(_0x152dc1){return _0x152dc1();}};await _0x61e544[_0x16aa('‮30')](getLong);}function getLong(){var _0x3b6cca={'ZxVlC':function(_0x5f0d31){return _0x5f0d31();},'FlSKO':function(_0x8a3947,_0x4e1118){return _0x8a3947!==_0x4e1118;},'iFbHF':_0x16aa('‮31'),'SVgHT':_0x16aa('‮32'),'jpSCu':_0x16aa('‮33'),'iehGS':function(_0x61072b,_0x1c7d7e){return _0x61072b!==_0x1c7d7e;},'NpXCm':_0x16aa('‫34'),'Ticjw':_0x16aa('‮35'),'UhoMi':_0x16aa('‫36'),'hhfdC':_0x16aa('‮37'),'MtREC':_0x16aa('‫38'),'fjPmW':_0x16aa('‮39'),'OmMAW':_0x16aa('‫3a'),'EgxJV':_0x16aa('‫3b')};return new Promise(async _0x491b77=>{var _0x4a5baf={'iQRzQ':function(_0x419598){return _0x3b6cca[_0x16aa('‮3c')](_0x419598);},'ZaYUm':function(_0x3110da,_0x183f03){return _0x3b6cca[_0x16aa('‫3d')](_0x3110da,_0x183f03);},'kkCrA':_0x3b6cca[_0x16aa('‮3e')],'oJgIw':_0x3b6cca[_0x16aa('‮3f')],'BfqqL':_0x3b6cca[_0x16aa('‮40')],'nevnA':function(_0x726b79,_0x2d03a1){return _0x3b6cca[_0x16aa('‮41')](_0x726b79,_0x2d03a1);},'VZeMU':_0x3b6cca[_0x16aa('‮42')],'SkCqI':function(_0x25ee3f){return _0x3b6cca[_0x16aa('‮3c')](_0x25ee3f);}};const _0xd41b71={'url':_0x3b6cca[_0x16aa('‮43')],'headers':{'Accept':_0x3b6cca[_0x16aa('‫44')],'Accept-Encoding':_0x3b6cca[_0x16aa('‮45')],'Accept-Language':_0x3b6cca[_0x16aa('‮46')],'x-requested-with':_0x3b6cca[_0x16aa('‮47')],'User-Agent':_0x3b6cca[_0x16aa('‮48')],'Referer':_0x3b6cca[_0x16aa('‮49')],'Cookie':cookie}};$[_0x16aa('‫4a')](_0xd41b71,(_0x491c52,_0xf340a0,_0x283470)=>{var _0xa28908={'zpnRr':function(_0x25761e){return _0x4a5baf[_0x16aa('‮4b')](_0x25761e);}};try{if(_0x4a5baf[_0x16aa('‫4c')](_0x4a5baf[_0x16aa('‫4d')],_0x4a5baf[_0x16aa('‫4e')])){if(_0x491c52){console[_0x16aa('‮9')](''+JSON[_0x16aa('‫4f')](_0x491c52));}else{if(_0x283470){if(_0x4a5baf[_0x16aa('‫4c')](_0x4a5baf[_0x16aa('‮50')],_0x4a5baf[_0x16aa('‮50')])){_0xa28908[_0x16aa('‮51')](_0x491b77);}else{console[_0x16aa('‮9')](_0x283470);}}else{if(_0x4a5baf[_0x16aa('‮52')](_0x4a5baf[_0x16aa('‫53')],_0x4a5baf[_0x16aa('‫53')])){$[_0x16aa('‫54')](e,_0xf340a0);}else{console[_0x16aa('‮9')](_0x16aa('‫55'));}}}}else{console[_0x16aa('‮9')](_0x283470);}}catch(_0x5818dd){$[_0x16aa('‫54')](_0x5818dd,_0xf340a0);}finally{_0x4a5baf[_0x16aa('‫56')](_0x491b77);}});});}function TotalBean(){var _0x1ad834={'ICMRt':_0x16aa('‫b'),'bcKRD':_0x16aa('‫c'),'qFyjp':function(_0xc1fa4a,_0x3b88d3){return _0xc1fa4a(_0x3b88d3);},'IxCsM':_0x16aa('‮d'),'nADwe':function(_0x1813f4,_0x1720fe){return _0x1813f4===_0x1720fe;},'MoEMq':_0x16aa('‮57'),'kxqxD':_0x16aa('‫58'),'DorPd':function(_0x6edaa5,_0x486e5d){return _0x6edaa5!==_0x486e5d;},'ofVHZ':_0x16aa('‮59'),'miXal':_0x16aa('‫5a'),'MYdhT':function(_0x3ab72d,_0x22c62b){return _0x3ab72d!==_0x22c62b;},'WYIin':_0x16aa('‮5b'),'mDRqN':_0x16aa('‫5c'),'wdrWU':_0x16aa('‫5d'),'uDxjf':_0x16aa('‫5e'),'bULLf':_0x16aa('‫5f'),'nRsGa':function(_0x50b0d3,_0x2ef82e){return _0x50b0d3===_0x2ef82e;},'uexqR':_0x16aa('‮60'),'HKQmb':_0x16aa('‮61'),'gxlda':_0x16aa('‫62'),'pbzTL':function(_0x19b731){return _0x19b731();},'AgiWw':_0x16aa('‮63'),'lUFLL':_0x16aa('‮64'),'iFXhQ':_0x16aa('‮37'),'WBfpt':_0x16aa('‮65'),'DFqOE':_0x16aa('‫66'),'bfTbE':_0x16aa('‮67'),'qutlW':_0x16aa('‫68')};return new Promise(async _0x2b0c6f=>{var _0x17955d={'vVais':_0x1ad834[_0x16aa('‫69')],'OVUEr':_0x1ad834[_0x16aa('‮6a')],'lqGwd':function(_0x11774a,_0x22415e){return _0x1ad834[_0x16aa('‫6b')](_0x11774a,_0x22415e);},'Xmbdm':_0x1ad834[_0x16aa('‫6c')],'ZmGlO':function(_0x5d8ca8,_0x3e6c3a){return _0x1ad834[_0x16aa('‫6d')](_0x5d8ca8,_0x3e6c3a);},'ULoiy':_0x1ad834[_0x16aa('‮6e')],'BDSGd':function(_0x3171f3,_0x189b58){return _0x1ad834[_0x16aa('‫6d')](_0x3171f3,_0x189b58);},'MgdWA':_0x1ad834[_0x16aa('‮6f')],'kkkBz':function(_0x17a927,_0x5c0cf4){return _0x1ad834[_0x16aa('‫70')](_0x17a927,_0x5c0cf4);},'djXWu':_0x1ad834[_0x16aa('‮71')],'RIDqL':_0x1ad834[_0x16aa('‫72')],'TEOPt':function(_0x5a2408,_0x53d56c){return _0x1ad834[_0x16aa('‮73')](_0x5a2408,_0x53d56c);},'EjNoF':_0x1ad834[_0x16aa('‮74')],'vVGxf':_0x1ad834[_0x16aa('‫75')],'zIzEk':_0x1ad834[_0x16aa('‫76')],'SrvBY':_0x1ad834[_0x16aa('‫77')],'dIHKU':_0x1ad834[_0x16aa('‮78')],'HjGus':function(_0x3eab9f,_0x27dc72){return _0x1ad834[_0x16aa('‫79')](_0x3eab9f,_0x27dc72);},'UJIjL':_0x1ad834[_0x16aa('‮7a')],'cIDXc':_0x1ad834[_0x16aa('‮7b')],'hYmmr':_0x1ad834[_0x16aa('‫7c')],'dCzkT':function(_0x4d625f){return _0x1ad834[_0x16aa('‫7d')](_0x4d625f);}};const _0x97beb9={'url':_0x16aa('‫7e'),'headers':{'Accept':_0x1ad834[_0x16aa('‮7f')],'Content-Type':_0x1ad834[_0x16aa('‮80')],'Accept-Encoding':_0x1ad834[_0x16aa('‮81')],'Accept-Language':_0x1ad834[_0x16aa('‮82')],'Connection':_0x1ad834[_0x16aa('‫83')],'Cookie':cookie,'Referer':_0x1ad834[_0x16aa('‫84')],'User-Agent':_0x1ad834[_0x16aa('‮85')]}};$[_0x16aa('‮86')](_0x97beb9,(_0xe13f65,_0x3f898a,_0x582dab)=>{if(_0x17955d[_0x16aa('‫87')](_0x17955d[_0x16aa('‫88')],_0x17955d[_0x16aa('‫89')])){try{if(_0x17955d[_0x16aa('‫8a')](_0x17955d[_0x16aa('‫8b')],_0x17955d[_0x16aa('‫8c')])){if(_0xe13f65){if(_0x17955d[_0x16aa('‫8d')](_0x17955d[_0x16aa('‮8e')],_0x17955d[_0x16aa('‮8e')])){console[_0x16aa('‮9')](''+JSON[_0x16aa('‫4f')](_0xe13f65));console[_0x16aa('‮9')]($[_0x16aa('‮16')]+_0x16aa('‫8f'));}else{$[_0x16aa('‫21')]=$[_0x16aa('‮1b')];}}else{if(_0x17955d[_0x16aa('‫8a')](_0x17955d[_0x16aa('‫90')],_0x17955d[_0x16aa('‫91')])){if(_0x582dab){_0x582dab=JSON[_0x16aa('‫92')](_0x582dab);if(_0x17955d[_0x16aa('‫93')](_0x582dab[_0x17955d[_0x16aa('‫94')]],0xd)){$[_0x16aa('‫20')]=![];return;}if(_0x17955d[_0x16aa('‫93')](_0x582dab[_0x17955d[_0x16aa('‫94')]],0x0)){$[_0x16aa('‫21')]=_0x582dab[_0x17955d[_0x16aa('‮95')]]&&_0x582dab[_0x17955d[_0x16aa('‮95')]][_0x16aa('‫96')]||$[_0x16aa('‮1b')];}else{$[_0x16aa('‫21')]=$[_0x16aa('‮1b')];}}else{console[_0x16aa('‮9')](_0x16aa('‫55'));}}else{cookiesArr=[$[_0x16aa('‮a')](_0x17955d[_0x16aa('‮97')]),$[_0x16aa('‮a')](_0x17955d[_0x16aa('‮98')]),..._0x17955d[_0x16aa('‮99')](jsonParse,$[_0x16aa('‮a')](_0x17955d[_0x16aa('‫9a')])||'[]')[_0x16aa('‮e')](_0x1a29ad=>_0x1a29ad[_0x16aa('‮f')])][_0x16aa('‫10')](_0x542cdb=>!!_0x542cdb);}}}else{console[_0x16aa('‮9')](''+JSON[_0x16aa('‫4f')](_0xe13f65));}}catch(_0x39ded8){if(_0x17955d[_0x16aa('‫8a')](_0x17955d[_0x16aa('‮9b')],_0x17955d[_0x16aa('‮9b')])){if(_0x582dab){console[_0x16aa('‮9')](_0x582dab);}else{console[_0x16aa('‮9')](_0x16aa('‫55'));}}else{$[_0x16aa('‫54')](_0x39ded8,_0x3f898a);}}finally{if(_0x17955d[_0x16aa('‫8a')](_0x17955d[_0x16aa('‮9c')],_0x17955d[_0x16aa('‫9d')])){_0x17955d[_0x16aa('‮9e')](_0x2b0c6f);}else{_0x582dab=JSON[_0x16aa('‫92')](_0x582dab);if(_0x17955d[_0x16aa('‮9f')](_0x582dab[_0x17955d[_0x16aa('‫94')]],0xd)){$[_0x16aa('‫20')]=![];return;}if(_0x17955d[_0x16aa('‫8d')](_0x582dab[_0x17955d[_0x16aa('‫94')]],0x0)){$[_0x16aa('‫21')]=_0x582dab[_0x17955d[_0x16aa('‮95')]]&&_0x582dab[_0x17955d[_0x16aa('‮95')]][_0x16aa('‫96')]||$[_0x16aa('‮1b')];}else{$[_0x16aa('‫21')]=$[_0x16aa('‮1b')];}}}}else{cookiesArr[_0x16aa('‮5')](jdCookieNode[item]);}});});};_0xodp='jsjiami.com.v6';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
